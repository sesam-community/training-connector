{
  "_id": "{{@ system @}}",
  "authentication": "basic",
  "operations": {
    "alternate_delete": {
      "method": "DELETE",
      "url": "{{ properties.datatype }}/list?ids={{ entity.id }}"
    },
    "alternate_list": {
      "id_expression": "{{ id }}",
      "method": "GET",
      "next_page_link": "{{@ base_url @}}/v2/{{ properties.datatype }}?from={{ body.from + body.count }}&{{ properties.datatype }}DateFrom={{ properties.DateFrom }}&{{ properties.datatype }}DateTo={{ properties.DateTo }}",
      "next_page_termination_strategy": "empty-result",
      "payload_property": "values",
      "url": "{{ properties.datatype }}?{{ properties.datatype }}DateFrom={{ properties.DateFrom }}&{{ properties.datatype }}DateTo={{ properties.DateTo }}"
    },
    "delete": {
      "method": "DELETE",
      "url": "{{ properties.datatype }}/{{ entity.id }}"
    },
    "insert": {
      "method": "POST",
      "payload-type": "json",
      "payload_property": "value",
      "url": "{{ properties.datatype }}"
    },
    "list": {
      "id_expression": "{{ id }}",
      "method": "GET",
      "next_page_link": "{{@ base_url @}}/v2/{{ properties.datatype }}?from={{ body.from + body.count }}",
      "next_page_termination_strategy": "empty-result",
      "payload_property": "values",
      "url": "{{ properties.datatype }}"
    },
    "lookup": {
      "method": "GET",
      "payload_property": "value",
      "url": "{{ properties.datatype }}/{{ entity.id }}"
    },
    "update": {
      "method": "PUT",
      "payload-type": "json",
      "payload_property": "value",
      "url": "{{ properties.datatype }}/{{ entity.id }}"
    },
    "webhook-insert": {
      "method": "POST",
      "payload": {
        "authHeaderName": "Authorization",
        "authHeaderValue": "Bearer $SECRET(service_jwt)",
        "event": "{{ properties.event }}",
        "targetUrl": "{{ properties.targetUrl }}"
      },
      "payload-type": "json",
      "url": "event/subscription"
    }
  },
  "password": "$SECRET(sessionToken)",
  "type": "system:rest",
  "url_pattern": "{{@ base_url @}}/v2/%s",
  "username": "0",
  "verify_ssl": true
}